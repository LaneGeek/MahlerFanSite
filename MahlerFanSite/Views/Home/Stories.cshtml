@model List<Story>
@{
    ViewData["Title"] = "Stories";
}

    <div class="text-center">
        <h1 class="display-4">Mahler Stories</h1>
        <p>Below are some great stories about Gustav Mahler:-</p>
        @foreach (Story story in Model)
        {
            <h2>Story</h2>
            @story.Text<br />
            <h4>Date of story</h4>
            @story.PublishedDate<br />
            <h4>Story ID</h4>
            @story.StoryId<br />
            @if (story.Comments.Count > 0)
            {
                <h4>This story has these comments:-</h4>
                @foreach (Comment comment in story.Comments)
                {
                    @comment.Name
                    <em> says </em>
                    @comment.Text<br />
                }
            }
            <a asp-action="AddComment" asp-route-storyText ="@story.Text">Comment this story</a>
            @if (story.Ratings.Count > 0)
            {
                <h4>This story has had these ratings. A total of @story.Ratings.Count ratings as follows:-</h4>
                @foreach (int rating in story.Ratings)
                {
                    <em>@rating</em>
                    <em> Stars </em>
                }
            }
            <a asp-action="AddRating" asp-route-storyText ="@story.Text">Rate this story</a>
            <br />
        }
        <br />
        <a href="AddStory">Add Your Own Story About Mahler</a>
    </div>
